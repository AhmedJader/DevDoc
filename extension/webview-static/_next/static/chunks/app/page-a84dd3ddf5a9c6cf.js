(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3697:(e,t,s)=>{Promise.resolve().then(s.bind(s,8853))},8853:(e,t,s)=>{"use strict";let a;s.d(t,{default:()=>r});var l=s(5155),n=s(2115);function r(){let[e,t]=(0,n.useState)(""),[s,r]=(0,n.useState)([]),[o,u]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=e=>{let{type:t,value:s}=e.data;"openai-response"===t&&(r(e=>[...e,{role:"assistant",content:s}]),u(!1))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),(0,l.jsxs)("div",{className:"flex flex-col h-full w-full gap-2",children:[(0,l.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-2",children:[s.map((e,t)=>(0,l.jsx)("div",{className:"p-2 rounded-md max-w-[80%] ".concat("user"===e.role?"bg-blue-500 ml-auto":"bg-gray-700 mr-auto"),children:e.content},t)),o&&(0,l.jsx)("div",{className:"text-sm text-gray-400",children:"Thinking..."})]}),(0,l.jsxs)("form",{onSubmit:l=>{l.preventDefault(),(()=>{if(!e.trim()||!a)return;let l={role:"user",content:e};r(e=>[...e,l]),t(""),u(!0),a.postMessage({type:"ask-openai",value:{messages:[{role:"system",content:"You are a helpful DevDoc assistant."},...s,l]}})})()},className:"flex gap-2 mt-auto",children:[(0,l.jsx)("input",{type:"text",className:"flex-1 p-2 bg-[#161b22] border border-gray-600 rounded-md",placeholder:"Ask something...",value:e,onChange:e=>t(e.target.value)}),(0,l.jsx)("button",{type:"submit",className:"px-4 bg-blue-600 text-white rounded-md",children:"Send"})]})]})}a=acquireVsCodeApi()}},e=>{e.O(0,[441,964,358],()=>e(e.s=3697)),_N_E=e.O()}]);